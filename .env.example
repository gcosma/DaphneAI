# ===============================================
# .env.example - Environment Variables Template
# Copy this file to .env and fill in your values
# ===============================================

# ===============================================
# APPLICATION CONFIGURATION
# ===============================================
APP_NAME=DaphneAI
APP_VERSION=2.0.0
LOG_LEVEL=INFO
DEBUG_MODE=false

# ===============================================
# OPENAI API CONFIGURATION (Optional)
# ===============================================
# Uncomment and fill in for enhanced AI features
# OPENAI_API_KEY=your_openai_api_key_here
# OPENAI_MODEL=gpt-3.5-turbo
# OPENAI_MAX_TOKENS=2000
# OPENAI_TEMPERATURE=0.1

# ===============================================
# FILE PROCESSING CONFIGURATION
# ===============================================
# UPDATED: Increased file size limits to match .streamlit/config.toml
MAX_FILE_SIZE_MB=500                    # Matches Streamlit config (was 200)
SUPPORTED_FILE_TYPES=pdf,txt,docx,doc   # Added more supported types
MAX_DOCUMENTS_PER_UPLOAD=20             # Increased from 10 for batch processing
ENABLE_LARGE_FILE_PROCESSING=true       # New: Enable memory-efficient processing
CHUNK_PROCESSING_SIZE=64                # New: Chunk size in KB for large files

# ===============================================
# AI MODEL CONFIGURATION
# ===============================================
USE_LOCAL_MODELS=true
BERT_MODEL=emilyalsentzer/Bio_ClinicalBERT
SENTENCE_TRANSFORMER_MODEL=all-MiniLM-L6-v2
EMBEDDING_MODEL=text-embedding-ada-002

# NEW: Model caching and performance
ENABLE_MODEL_CACHING=true
MODEL_CACHE_DIR=./cache/models
HUGGINGFACE_CACHE_DIR=./cache/huggingface

# ===============================================
# PROCESSING CONFIGURATION
# ===============================================
BATCH_SIZE=10
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
SIMILARITY_THRESHOLD=0.65
CONFIDENCE_THRESHOLD=0.7

# NEW: Memory management for large files
MEMORY_EFFICIENT_PROCESSING=true
MAX_MEMORY_USAGE_PCT=80                 # Maximum memory usage percentage
ENABLE_GARBAGE_COLLECTION=true

# ===============================================
# SECURITY CONFIGURATION
# ===============================================
ENABLE_AUTHENTICATION=false
SECRET_KEY=your_secret_key_here_change_in_production
SESSION_TIMEOUT=3600
ENABLE_FILE_VALIDATION=true             # New: Enhanced file validation
MAX_CONCURRENT_UPLOADS=5                # New: Limit concurrent uploads

# ===============================================
# LOGGING CONFIGURATION
# ===============================================
LOG_FILE=logs/app.log                   # Updated: Use logs directory
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_ROTATION=true
LOG_MAX_SIZE=50MB                       # Increased from 10MB
LOG_BACKUP_COUNT=10                     # Increased for better history
ENABLE_PERFORMANCE_LOGGING=false

# ===============================================
# CACHE CONFIGURATION
# ===============================================
ENABLE_CACHING=true
CACHE_TTL=7200                          # Increased from 3600 (2 hours)
CACHE_SIZE=200                          # Increased from 100
CACHE_DIR=./cache/app                   # New: Dedicated cache directory

# ===============================================
# PERFORMANCE CONFIGURATION
# ===============================================
ENABLE_PARALLEL_PROCESSING=true
MAX_WORKERS=4
MEMORY_LIMIT_MB=2048                    # Increased from 1024 for large files
ENABLE_STREAMING_PROCESSING=true        # New: For large file streaming

# PDF Processing specific
PDF_PROCESSING_TIMEOUT=300              # 5 minutes for large PDFs
ENABLE_OCR_FALLBACK=false              # Set to true if you install tesseract
MAX_PDF_PAGES=1000                     # Limit for very large PDFs

# ===============================================
# FEATURE FLAGS
# ===============================================
ENABLE_FREE_AI=true
ENABLE_LLM_EXTRACTION=true
ENABLE_BERT_ANALYSIS=true
ENABLE_CLUSTERING=true
ENABLE_ADVANCED_SEARCH=true
ENABLE_EXPORT=true

# NEW: Additional features
ENABLE_DOCUMENT_VALIDATION=true
ENABLE_DUPLICATE_DETECTION=true
ENABLE_AUTOMATIC_CATEGORIZATION=true
ENABLE_PROGRESS_TRACKING=true

# ===============================================
# DATABASE CONFIGURATION (Optional)
# ===============================================
# Uncomment if using database storage
# VECTOR_STORE_PATH=./data/vector_store
# DATABASE_URL=sqlite:///data/recommendations.db
# ENABLE_DATABASE_BACKUP=true
# DATABASE_BACKUP_INTERVAL=3600

# ===============================================
# DEVELOPMENT CONFIGURATION
# ===============================================
DEV_MODE=false
ENABLE_DEBUG_LOGGING=false
SHOW_PERFORMANCE_METRICS=false
ENABLE_PROFILING=false

# NEW: Development tools
ENABLE_HOT_RELOAD=false                 # For development only
ENABLE_MOCK_PROCESSING=false           # For testing without actual processing
TEST_MODE=false

# ===============================================
# DEPLOYMENT CONFIGURATION
# ===============================================
# For production deployment
PRODUCTION_MODE=false
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=60
ERROR_REPORTING_ENABLED=false

# Cloud deployment specific
# CLOUD_PROVIDER=none                   # aws, gcp, azure, none
# CLOUD_STORAGE_BUCKET=your_bucket_name
# ENABLE_CLOUD_LOGGING=false

# ===============================================
# STREAMLIT SPECIFIC (Optional Overrides)
# ===============================================
# These override .streamlit/config.toml if set
# STREAMLIT_SERVER_PORT=8501
# STREAMLIT_SERVER_ADDRESS=localhost
# STREAMLIT_SERVER_HEADLESS=false
# STREAMLIT_BROWSER_GATHER_USAGE_STATS=false

# ===============================================
# AI SERVICE CONFIGURATION
# ===============================================
# Rate limiting for API calls
API_RATE_LIMIT_PER_MINUTE=60
API_TIMEOUT_SECONDS=30
API_RETRY_ATTEMPTS=3

# Model loading preferences
PREFER_CPU_MODELS=false                 # Set to true if no GPU available
ENABLE_MODEL_QUANTIZATION=false        # Reduce memory usage
MODEL_PRECISION=float32                 # float32 or float16

# ===============================================
# EXPERIMENTAL FEATURES
# ===============================================
# Enable with caution - may be unstable
ENABLE_EXPERIMENTAL_FEATURES=false
EXPERIMENTAL_ASYNC_PROCESSING=false
EXPERIMENTAL_MULTI_GPU=false
EXPERIMENTAL_DISTRIBUTED_PROCESSING=false

# ===============================================
# MONITORING AND ANALYTICS
# ===============================================
ENABLE_USAGE_ANALYTICS=false
ANALYTICS_ENDPOINT=
ENABLE_ERROR_TRACKING=false
ERROR_TRACKING_DSN=

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING=false
PERFORMANCE_SAMPLE_RATE=0.1

# ===============================================
# BACKUP AND RECOVERY
# ===============================================
ENABLE_AUTO_BACKUP=false
BACKUP_DIRECTORY=./backups
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=daily

# ===============================================
# NOTES AND EXAMPLES
# ===============================================
# Example production configuration:
# MAX_FILE_SIZE_MB=500
# MEMORY_LIMIT_MB=4096
# MAX_WORKERS=8
# PRODUCTION_MODE=true
# LOG_LEVEL=WARNING
# ENABLE_CACHING=true
# CACHE_TTL=86400

# Example development configuration:
# DEV_MODE=true
# DEBUG_MODE=true
# LOG_LEVEL=DEBUG
# ENABLE_DEBUG_LOGGING=true
# ENABLE_HOT_RELOAD=true
# SHOW_PERFORMANCE_METRICS=true
